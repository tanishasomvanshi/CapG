using System;
using System.IO;
namespace GarbageCollection
{
        public class Customer : IDisposable
        {
            public int x;

            public int CustomerID { get; set; }
            public string CustomerName { get; set; }
            private FileStream fs;

            //Constuctor
            public Customer()
            {
            fs = new FileStream(@"c:\CapG\something.txt", FileMode.Create, FileAccess.Write);
            Console.WriteLine("File Openend");
            byte[] barray = System.Text.Encoding.ASCII.GetBytes("Hello");
            fs.Write(barray,0,barray.Length);
            }

            //destructor
            public void Dispose()
            {
            fs.Close();
            Console.WriteLine("File Closed");
            }
        }
    class Program
    {
        static void Main()
        {
            using (Customer customer = new Customer()) ;
            {
                //Some work
                //Want to close & delete
            }
        }
    }
}

